{"ast":null,"code":"import { WebGLCubeRenderTarget, LinearFilter, RGBFormat } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nfunction CubeCamera({\n  children,\n  fog,\n  frames = Infinity,\n  resolution = 256,\n  near = 1,\n  far = 1000,\n  ...props\n}) {\n  const ref = React.useRef();\n  const [camera, setCamera] = React.useState();\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const fbo = React.useMemo(() => new WebGLCubeRenderTarget(resolution, {\n    minFilter: LinearFilter,\n    magFilter: LinearFilter,\n    format: RGBFormat,\n    encoding: gl.outputEncoding\n  }),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [resolution]);\n  let count = 0;\n  useFrame(() => {\n    if (camera && ref.current && (frames === Infinity || count < frames)) {\n      ref.current.traverse(obj => obj.visible = false);\n      const originalFog = scene.fog;\n      scene.fog = fog || originalFog;\n      camera.update(gl, scene);\n      scene.fog = originalFog;\n      ref.current.traverse(obj => obj.visible = true);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: setCamera,\n    args: [near, far, fbo]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children(fbo.texture)));\n}\nexport { CubeCamera };","map":{"version":3,"names":["WebGLCubeRenderTarget","LinearFilter","RGBFormat","React","useThree","useFrame","CubeCamera","children","fog","frames","Infinity","resolution","near","far","props","ref","useRef","camera","setCamera","useState","scene","gl","fbo","useMemo","minFilter","magFilter","format","encoding","outputEncoding","count","current","traverse","obj","visible","originalFog","update","createElement","args","texture"],"sources":["C:/Users/Work/node_modules/@react-three/drei/core/CubeCamera.js"],"sourcesContent":["import { WebGLCubeRenderTarget, LinearFilter, RGBFormat } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction CubeCamera({\n  children,\n  fog,\n  frames = Infinity,\n  resolution = 256,\n  near = 1,\n  far = 1000,\n  ...props\n}) {\n  const ref = React.useRef();\n  const [camera, setCamera] = React.useState();\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const fbo = React.useMemo(() => new WebGLCubeRenderTarget(resolution, {\n    minFilter: LinearFilter,\n    magFilter: LinearFilter,\n    format: RGBFormat,\n    encoding: gl.outputEncoding\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [resolution]);\n  let count = 0;\n  useFrame(() => {\n    if (camera && ref.current && (frames === Infinity || count < frames)) {\n      ref.current.traverse(obj => obj.visible = false);\n      const originalFog = scene.fog;\n      scene.fog = fog || originalFog;\n      camera.update(gl, scene);\n      scene.fog = originalFog;\n      ref.current.traverse(obj => obj.visible = true);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: setCamera,\n    args: [near, far, fbo]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children(fbo.texture)));\n}\n\nexport { CubeCamera };\n"],"mappings":"AAAA,SAASA,qBAAqB,EAAEC,YAAY,EAAEC,SAAS,QAAQ,OAAO;AACtE,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AAEvD,SAASC,UAAUA,CAAC;EAClBC,QAAQ;EACRC,GAAG;EACHC,MAAM,GAAGC,QAAQ;EACjBC,UAAU,GAAG,GAAG;EAChBC,IAAI,GAAG,CAAC;EACRC,GAAG,GAAG,IAAI;EACV,GAAGC;AACL,CAAC,EAAE;EACD,MAAMC,GAAG,GAAGZ,KAAK,CAACa,MAAM,CAAC,CAAC;EAC1B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGf,KAAK,CAACgB,QAAQ,CAAC,CAAC;EAC5C,MAAMC,KAAK,GAAGhB,QAAQ,CAAC,CAAC;IACtBgB;EACF,CAAC,KAAKA,KAAK,CAAC;EACZ,MAAMC,EAAE,GAAGjB,QAAQ,CAAC,CAAC;IACnBiB;EACF,CAAC,KAAKA,EAAE,CAAC;EACT,MAAMC,GAAG,GAAGnB,KAAK,CAACoB,OAAO,CAAC,MAAM,IAAIvB,qBAAqB,CAACW,UAAU,EAAE;IACpEa,SAAS,EAAEvB,YAAY;IACvBwB,SAAS,EAAExB,YAAY;IACvByB,MAAM,EAAExB,SAAS;IACjByB,QAAQ,EAAEN,EAAE,CAACO;EACf,CAAC,CAAC;EAAE;EACJ,CAACjB,UAAU,CAAC,CAAC;EACb,IAAIkB,KAAK,GAAG,CAAC;EACbxB,QAAQ,CAAC,MAAM;IACb,IAAIY,MAAM,IAAIF,GAAG,CAACe,OAAO,KAAKrB,MAAM,KAAKC,QAAQ,IAAImB,KAAK,GAAGpB,MAAM,CAAC,EAAE;MACpEM,GAAG,CAACe,OAAO,CAACC,QAAQ,CAACC,GAAG,IAAIA,GAAG,CAACC,OAAO,GAAG,KAAK,CAAC;MAChD,MAAMC,WAAW,GAAGd,KAAK,CAACZ,GAAG;MAC7BY,KAAK,CAACZ,GAAG,GAAGA,GAAG,IAAI0B,WAAW;MAC9BjB,MAAM,CAACkB,MAAM,CAACd,EAAE,EAAED,KAAK,CAAC;MACxBA,KAAK,CAACZ,GAAG,GAAG0B,WAAW;MACvBnB,GAAG,CAACe,OAAO,CAACC,QAAQ,CAACC,GAAG,IAAIA,GAAG,CAACC,OAAO,GAAG,IAAI,CAAC;MAC/CJ,KAAK,EAAE;IACT;EACF,CAAC,CAAC;EACF,OAAO,aAAa1B,KAAK,CAACiC,aAAa,CAAC,OAAO,EAAEtB,KAAK,EAAE,aAAaX,KAAK,CAACiC,aAAa,CAAC,YAAY,EAAE;IACrGrB,GAAG,EAAEG,SAAS;IACdmB,IAAI,EAAE,CAACzB,IAAI,EAAEC,GAAG,EAAES,GAAG;EACvB,CAAC,CAAC,EAAE,aAAanB,KAAK,CAACiC,aAAa,CAAC,OAAO,EAAE;IAC5CrB,GAAG,EAAEA;EACP,CAAC,EAAER,QAAQ,CAACe,GAAG,CAACgB,OAAO,CAAC,CAAC,CAAC;AAC5B;AAEA,SAAShC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}