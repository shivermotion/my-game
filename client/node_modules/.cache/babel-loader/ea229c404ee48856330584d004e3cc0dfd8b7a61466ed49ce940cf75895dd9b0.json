{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\nconst Line = /*#__PURE__*/React.forwardRef(function Line({\n  points,\n  color = 'black',\n  vertexColors,\n  lineWidth,\n  dashed,\n  ...rest\n}, ref) {\n  const [line2] = React.useState(() => new Line2());\n  const [lineMaterial] = React.useState(() => new LineMaterial());\n  const [resolution] = React.useState(() => new Vector2(512, 512));\n  const lineGeom = React.useMemo(() => {\n    const geom = new LineGeometry();\n    const pValues = points.map(p => p instanceof Vector3 ? p.toArray() : p);\n    geom.setPositions(pValues.flat());\n    if (vertexColors) {\n      const cValues = vertexColors.map(c => c instanceof Color ? c.toArray() : c);\n      geom.setColors(cValues.flat());\n    }\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(() => {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(() => {\n    return () => lineGeom.dispose();\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\nexport { Line };","map":{"version":3,"names":["_extends","React","Vector2","Vector3","Color","Line2","LineMaterial","LineGeometry","Line","forwardRef","points","color","vertexColors","lineWidth","dashed","rest","ref","line2","useState","lineMaterial","resolution","lineGeom","useMemo","geom","pValues","map","p","toArray","setPositions","flat","cValues","c","setColors","useLayoutEffect","computeLineDistances","defines","USE_DASH","needsUpdate","useEffect","dispose","createElement","object","attach","Boolean","linewidth"],"sources":["C:/Users/Work/node_modules/@react-three/drei/core/Line.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\n\nconst Line = /*#__PURE__*/React.forwardRef(function Line({\n  points,\n  color = 'black',\n  vertexColors,\n  lineWidth,\n  dashed,\n  ...rest\n}, ref) {\n  const [line2] = React.useState(() => new Line2());\n  const [lineMaterial] = React.useState(() => new LineMaterial());\n  const [resolution] = React.useState(() => new Vector2(512, 512));\n  const lineGeom = React.useMemo(() => {\n    const geom = new LineGeometry();\n    const pValues = points.map(p => p instanceof Vector3 ? p.toArray() : p);\n    geom.setPositions(pValues.flat());\n\n    if (vertexColors) {\n      const cValues = vertexColors.map(c => c instanceof Color ? c.toArray() : c);\n      geom.setColors(cValues.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(() => {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(() => {\n    return () => lineGeom.dispose();\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\n\nexport { Line };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}