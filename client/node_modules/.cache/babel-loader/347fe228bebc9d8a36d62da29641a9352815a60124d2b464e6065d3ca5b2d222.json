{"ast":null,"code":"import * as React from 'react';\nimport { SimplifyModifier } from 'three-stdlib';\nfunction useSimplification(simplePercent) {\n  const ref = React.useRef();\n  const original = React.useRef();\n  const modifier = React.useRef();\n  React.useEffect(() => {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new SimplifyModifier();\n    }\n  }, []);\n  React.useEffect(() => {\n    if (original.current && ref.current) {\n      const geometry = original.current;\n      const count = Math.floor(geometry.attributes.position.count * simplePercent); // number of vertices to remove\n\n      ref.current.geometry = modifier.current.modify(geometry, count);\n    }\n  }, [simplePercent]);\n  return ref;\n}\nexport { useSimplification };","map":{"version":3,"names":["React","SimplifyModifier","useSimplification","simplePercent","ref","useRef","original","modifier","useEffect","current","geometry","clone","count","Math","floor","attributes","position","modify"],"sources":["C:/Users/Work/node_modules/@react-three/drei/core/useSimplification.js"],"sourcesContent":["import * as React from 'react';\nimport { SimplifyModifier } from 'three-stdlib';\n\nfunction useSimplification(simplePercent) {\n  const ref = React.useRef();\n  const original = React.useRef();\n  const modifier = React.useRef();\n  React.useEffect(() => {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new SimplifyModifier();\n    }\n  }, []);\n  React.useEffect(() => {\n    if (original.current && ref.current) {\n      const geometry = original.current;\n      const count = Math.floor(geometry.attributes.position.count * simplePercent); // number of vertices to remove\n\n      ref.current.geometry = modifier.current.modify(geometry, count);\n    }\n  }, [simplePercent]);\n  return ref;\n}\n\nexport { useSimplification };\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,gBAAgB,QAAQ,cAAc;AAE/C,SAASC,iBAAiBA,CAACC,aAAa,EAAE;EACxC,MAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAM,CAAC,CAAC;EAC1B,MAAMC,QAAQ,GAAGN,KAAK,CAACK,MAAM,CAAC,CAAC;EAC/B,MAAME,QAAQ,GAAGP,KAAK,CAACK,MAAM,CAAC,CAAC;EAC/BL,KAAK,CAACQ,SAAS,CAAC,MAAM;IACpB,IAAI,CAACF,QAAQ,CAACG,OAAO,EAAE;MACrBH,QAAQ,CAACG,OAAO,GAAGL,GAAG,CAACK,OAAO,CAACC,QAAQ,CAACC,KAAK,CAAC,CAAC;MAC/CJ,QAAQ,CAACE,OAAO,GAAG,IAAIR,gBAAgB,CAAC,CAAC;IAC3C;EACF,CAAC,EAAE,EAAE,CAAC;EACND,KAAK,CAACQ,SAAS,CAAC,MAAM;IACpB,IAAIF,QAAQ,CAACG,OAAO,IAAIL,GAAG,CAACK,OAAO,EAAE;MACnC,MAAMC,QAAQ,GAAGJ,QAAQ,CAACG,OAAO;MACjC,MAAMG,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAACK,UAAU,CAACC,QAAQ,CAACJ,KAAK,GAAGT,aAAa,CAAC,CAAC,CAAC;;MAE9EC,GAAG,CAACK,OAAO,CAACC,QAAQ,GAAGH,QAAQ,CAACE,OAAO,CAACQ,MAAM,CAACP,QAAQ,EAAEE,KAAK,CAAC;IACjE;EACF,CAAC,EAAE,CAACT,aAAa,CAAC,CAAC;EACnB,OAAOC,GAAG;AACZ;AAEA,SAASF,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}