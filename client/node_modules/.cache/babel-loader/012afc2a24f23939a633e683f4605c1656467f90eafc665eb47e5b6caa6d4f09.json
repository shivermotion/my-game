{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, CylinderGeometry, Matrix4 } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { SpotLightMaterial } from '../materials/SpotLightMaterial.js';\nconst vec = new Vector3();\nconst SpotLight = /*#__PURE__*/React.forwardRef(({\n  depthBuffer,\n  color = 'white',\n  distance = 5,\n  angle = 0.15,\n  attenuation = 5,\n  anglePower = 5,\n  ...props\n}, ref) => {\n  const mesh = React.useRef(null);\n  const size = useThree(state => state.size);\n  const camera = useThree(state => state.camera);\n  const dpr = useThree(state => state.viewport.dpr);\n  const [material] = React.useState(() => new SpotLightMaterial());\n  useFrame(() => {\n    material.uniforms.spotPosition.value.copy(mesh.current.getWorldPosition(vec));\n    mesh.current.lookAt(mesh.current.parent.target.position);\n  });\n  const geom = React.useMemo(() => {\n    const geometry = new CylinderGeometry(0.1, angle * 7, distance, 128, 64, true);\n    geometry.applyMatrix4(new Matrix4().makeTranslation(0, -distance / 2, 0));\n    geometry.applyMatrix4(new Matrix4().makeRotationX(-Math.PI / 2));\n    return geometry;\n  }, [angle, distance]);\n  return /*#__PURE__*/React.createElement(\"spotLight\", _extends({\n    ref: ref,\n    angle: angle,\n    color: color,\n    distance: distance\n  }, props), /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    geometry: geom\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: material,\n    attach: \"material\",\n    \"uniforms-lightColor-value\": color,\n    \"uniforms-attenuation-value\": attenuation,\n    \"uniforms-anglePower-value\": anglePower,\n    \"uniforms-depth-value\": depthBuffer,\n    \"uniforms-cameraNear-value\": camera.near,\n    \"uniforms-cameraFar-value\": camera.far,\n    \"uniforms-resolution-value\": depthBuffer ? [size.width * dpr, size.height * dpr] : [0, 0]\n  })));\n});\nexport { SpotLight };","map":{"version":3,"names":["_extends","React","Vector3","CylinderGeometry","Matrix4","useThree","useFrame","SpotLightMaterial","vec","SpotLight","forwardRef","depthBuffer","color","distance","angle","attenuation","anglePower","props","ref","mesh","useRef","size","state","camera","dpr","viewport","material","useState","uniforms","spotPosition","value","copy","current","getWorldPosition","lookAt","parent","target","position","geom","useMemo","geometry","applyMatrix4","makeTranslation","makeRotationX","Math","PI","createElement","object","attach","near","far","width","height"],"sources":["C:/Users/Work/node_modules/@react-three/drei/core/SpotLight.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, CylinderGeometry, Matrix4 } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { SpotLightMaterial } from '../materials/SpotLightMaterial.js';\n\nconst vec = new Vector3();\nconst SpotLight = /*#__PURE__*/React.forwardRef(({\n  depthBuffer,\n  color = 'white',\n  distance = 5,\n  angle = 0.15,\n  attenuation = 5,\n  anglePower = 5,\n  ...props\n}, ref) => {\n  const mesh = React.useRef(null);\n  const size = useThree(state => state.size);\n  const camera = useThree(state => state.camera);\n  const dpr = useThree(state => state.viewport.dpr);\n  const [material] = React.useState(() => new SpotLightMaterial());\n  useFrame(() => {\n    material.uniforms.spotPosition.value.copy(mesh.current.getWorldPosition(vec));\n    mesh.current.lookAt(mesh.current.parent.target.position);\n  });\n  const geom = React.useMemo(() => {\n    const geometry = new CylinderGeometry(0.1, angle * 7, distance, 128, 64, true);\n    geometry.applyMatrix4(new Matrix4().makeTranslation(0, -distance / 2, 0));\n    geometry.applyMatrix4(new Matrix4().makeRotationX(-Math.PI / 2));\n    return geometry;\n  }, [angle, distance]);\n  return /*#__PURE__*/React.createElement(\"spotLight\", _extends({\n    ref: ref,\n    angle: angle,\n    color: color,\n    distance: distance\n  }, props), /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    geometry: geom\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: material,\n    attach: \"material\",\n    \"uniforms-lightColor-value\": color,\n    \"uniforms-attenuation-value\": attenuation,\n    \"uniforms-anglePower-value\": anglePower,\n    \"uniforms-depth-value\": depthBuffer,\n    \"uniforms-cameraNear-value\": camera.near,\n    \"uniforms-cameraFar-value\": camera.far,\n    \"uniforms-resolution-value\": depthBuffer ? [size.width * dpr, size.height * dpr] : [0, 0]\n  })));\n});\n\nexport { SpotLight };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}