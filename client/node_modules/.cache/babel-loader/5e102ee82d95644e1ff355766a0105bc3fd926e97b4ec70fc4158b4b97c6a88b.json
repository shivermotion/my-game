{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { WebGLMultisampleRenderTarget, RGBAFormat, sRGBEncoding } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\nextend({\n  EffectComposer,\n  RenderPass,\n  ShaderPass\n});\nconst isWebGL2Available = () => {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\nconst Effects = /*#__PURE__*/React.forwardRef(({\n  children,\n  multisamping = 8,\n  renderIndex = 1,\n  disableGamma = false,\n  disableRenderPass = false,\n  ...props\n}, ref) => {\n  const composer = React.useRef();\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const size = useThree(({\n    size\n  }) => size);\n  const [target] = React.useState(() => {\n    if (isWebGL2Available() && multisamping > 0) {\n      const t = new WebGLMultisampleRenderTarget(size.width, size.height, {\n        format: RGBAFormat,\n        encoding: sRGBEncoding\n      });\n      t.samples = 8;\n      return t;\n    }\n  });\n  React.useEffect(() => {\n    var _composer$current, _composer$current2;\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(gl.getPixelRatio());\n  }, [gl, size]);\n  useFrame(() => {\n    var _composer$current3;\n    return (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  return /*#__PURE__*/React.createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), !disableRenderPass && /*#__PURE__*/React.createElement(\"renderPass\", {\n    attachArray: \"passes\",\n    args: [scene, camera]\n  }), !disableGamma && /*#__PURE__*/React.createElement(\"shaderPass\", {\n    attachArray: \"passes\",\n    args: [GammaCorrectionShader]\n  }), children);\n});\nexport { Effects, isWebGL2Available };","map":{"version":3,"names":["_extends","React","WebGLMultisampleRenderTarget","RGBAFormat","sRGBEncoding","extend","useThree","useFrame","EffectComposer","RenderPass","ShaderPass","GammaCorrectionShader","mergeRefs","isWebGL2Available","canvas","document","createElement","window","WebGL2RenderingContext","getContext","e","Effects","forwardRef","children","multisamping","renderIndex","disableGamma","disableRenderPass","props","ref","composer","useRef","scene","camera","gl","size","target","useState","t","width","height","format","encoding","samples","useEffect","_composer$current","_composer$current2","current","setSize","setPixelRatio","getPixelRatio","_composer$current3","render","args","attachArray"],"sources":["C:/Users/Work/node_modules/@react-three/drei/core/Effects.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { WebGLMultisampleRenderTarget, RGBAFormat, sRGBEncoding } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\n\nextend({\n  EffectComposer,\n  RenderPass,\n  ShaderPass\n});\nconst isWebGL2Available = () => {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\nconst Effects = /*#__PURE__*/React.forwardRef(({\n  children,\n  multisamping = 8,\n  renderIndex = 1,\n  disableGamma = false,\n  disableRenderPass = false,\n  ...props\n}, ref) => {\n  const composer = React.useRef();\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const size = useThree(({\n    size\n  }) => size);\n  const [target] = React.useState(() => {\n    if (isWebGL2Available() && multisamping > 0) {\n      const t = new WebGLMultisampleRenderTarget(size.width, size.height, {\n        format: RGBAFormat,\n        encoding: sRGBEncoding\n      });\n      t.samples = 8;\n      return t;\n    }\n  });\n  React.useEffect(() => {\n    var _composer$current, _composer$current2;\n\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(gl.getPixelRatio());\n  }, [gl, size]);\n  useFrame(() => {\n    var _composer$current3;\n\n    return (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  return /*#__PURE__*/React.createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), !disableRenderPass && /*#__PURE__*/React.createElement(\"renderPass\", {\n    attachArray: \"passes\",\n    args: [scene, camera]\n  }), !disableGamma && /*#__PURE__*/React.createElement(\"shaderPass\", {\n    attachArray: \"passes\",\n    args: [GammaCorrectionShader]\n  }), children);\n});\n\nexport { Effects, isWebGL2Available };\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,4BAA4B,EAAEC,UAAU,EAAEC,YAAY,QAAQ,OAAO;AAC9E,SAASC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AAC/D,SAASC,cAAc,EAAEC,UAAU,EAAEC,UAAU,EAAEC,qBAAqB,QAAQ,cAAc;AAC5F,OAAOC,SAAS,MAAM,kBAAkB;AAExCP,MAAM,CAAC;EACLG,cAAc;EACdC,UAAU;EACVC;AACF,CAAC,CAAC;AACF,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;EAC9B,IAAI;IACF,IAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC7C,OAAO,CAAC,EAAEC,MAAM,CAACC,sBAAsB,IAAIJ,MAAM,CAACK,UAAU,CAAC,QAAQ,CAAC,CAAC;EACzE,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,KAAK;EACd;AACF,CAAC;AACD,MAAMC,OAAO,GAAG,aAAapB,KAAK,CAACqB,UAAU,CAAC,CAAC;EAC7CC,QAAQ;EACRC,YAAY,GAAG,CAAC;EAChBC,WAAW,GAAG,CAAC;EACfC,YAAY,GAAG,KAAK;EACpBC,iBAAiB,GAAG,KAAK;EACzB,GAAGC;AACL,CAAC,EAAEC,GAAG,KAAK;EACT,MAAMC,QAAQ,GAAG7B,KAAK,CAAC8B,MAAM,CAAC,CAAC;EAC/B,MAAMC,KAAK,GAAG1B,QAAQ,CAAC,CAAC;IACtB0B;EACF,CAAC,KAAKA,KAAK,CAAC;EACZ,MAAMC,MAAM,GAAG3B,QAAQ,CAAC,CAAC;IACvB2B;EACF,CAAC,KAAKA,MAAM,CAAC;EACb,MAAMC,EAAE,GAAG5B,QAAQ,CAAC,CAAC;IACnB4B;EACF,CAAC,KAAKA,EAAE,CAAC;EACT,MAAMC,IAAI,GAAG7B,QAAQ,CAAC,CAAC;IACrB6B;EACF,CAAC,KAAKA,IAAI,CAAC;EACX,MAAM,CAACC,MAAM,CAAC,GAAGnC,KAAK,CAACoC,QAAQ,CAAC,MAAM;IACpC,IAAIxB,iBAAiB,CAAC,CAAC,IAAIW,YAAY,GAAG,CAAC,EAAE;MAC3C,MAAMc,CAAC,GAAG,IAAIpC,4BAA4B,CAACiC,IAAI,CAACI,KAAK,EAAEJ,IAAI,CAACK,MAAM,EAAE;QAClEC,MAAM,EAAEtC,UAAU;QAClBuC,QAAQ,EAAEtC;MACZ,CAAC,CAAC;MACFkC,CAAC,CAACK,OAAO,GAAG,CAAC;MACb,OAAOL,CAAC;IACV;EACF,CAAC,CAAC;EACFrC,KAAK,CAAC2C,SAAS,CAAC,MAAM;IACpB,IAAIC,iBAAiB,EAAEC,kBAAkB;IAEzC,CAACD,iBAAiB,GAAGf,QAAQ,CAACiB,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGF,iBAAiB,CAACG,OAAO,CAACb,IAAI,CAACI,KAAK,EAAEJ,IAAI,CAACK,MAAM,CAAC;IAC5G,CAACM,kBAAkB,GAAGhB,QAAQ,CAACiB,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,kBAAkB,CAACG,aAAa,CAACf,EAAE,CAACgB,aAAa,CAAC,CAAC,CAAC;EACjH,CAAC,EAAE,CAAChB,EAAE,EAAEC,IAAI,CAAC,CAAC;EACd5B,QAAQ,CAAC,MAAM;IACb,IAAI4C,kBAAkB;IAEtB,OAAO,CAACA,kBAAkB,GAAGrB,QAAQ,CAACiB,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGI,kBAAkB,CAACC,MAAM,CAAC,CAAC;EAC/F,CAAC,EAAE3B,WAAW,CAAC;EACf,OAAO,aAAaxB,KAAK,CAACe,aAAa,CAAC,gBAAgB,EAAEhB,QAAQ,CAAC;IACjE6B,GAAG,EAAEjB,SAAS,CAAC,CAACiB,GAAG,EAAEC,QAAQ,CAAC,CAAC;IAC/BuB,IAAI,EAAE,CAACnB,EAAE,EAAEE,MAAM;EACnB,CAAC,EAAER,KAAK,CAAC,EAAE,CAACD,iBAAiB,IAAI,aAAa1B,KAAK,CAACe,aAAa,CAAC,YAAY,EAAE;IAC9EsC,WAAW,EAAE,QAAQ;IACrBD,IAAI,EAAE,CAACrB,KAAK,EAAEC,MAAM;EACtB,CAAC,CAAC,EAAE,CAACP,YAAY,IAAI,aAAazB,KAAK,CAACe,aAAa,CAAC,YAAY,EAAE;IAClEsC,WAAW,EAAE,QAAQ;IACrBD,IAAI,EAAE,CAAC1C,qBAAqB;EAC9B,CAAC,CAAC,EAAEY,QAAQ,CAAC;AACf,CAAC,CAAC;AAEF,SAASF,OAAO,EAAER,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}